<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Amulet Player</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <style type="text/css">
html body {
    background-color: #000;
    color: #fff;
    font-family: Verdana, Arial, Helvetica, sans-serif;
    padding: 0;
    margin: 0;
}
a {
    color: #fff;
    text-size: 12px;
    margin-right: 30px;
}
#player-frame {
    border: none;
    width: 100%;
    height: 100%;
}
#main-panel {
    position: absolute;
    top: 0;
    width: 100%;
    bottom: 20px;
}
#footer {
    position: absolute;
    bottom: 0;
    height: 20px;
    width: 100%;
    text-align: center;
}
    </style>
  </head>
  <body>
    <div id="main-panel">
        <iframe id="player-frame"></iframe>
    </div>
    <div id="footer">
        <a href="http://amulet.xyz">amulet.xyz</a>
    </div>
    <script type='text/javascript'>
var url = "player.html" + location.search;
console.log(url);
document.getElementById("player-frame").src = url;

function qualifyURL(url) {
    var a = document.createElement('a');
    a.href = url;
    return a.href;
}
function getParameterByName(name) {
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
        results = regex.exec(location.search);
    return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}
var gist = getParameterByName("gist");
if (gist) {
    var editurl = qualifyURL("editor.html?gist="+gist);
    var editlink = document.createElement("a");
    editlink.href = editurl;
    editlink.innerHTML = "hack";
    document.getElementById("footer").appendChild(editlink);
}
    </script>
  </body>
</html>
